#!/bin/bash

# Prevent commit on 'main' branch
BRANCH=$(git rev-parse --abbrev-ref HEAD)
if [ "$BRANCH" == "main" ]; then
    echo "You cannot commit directly to 'main'. Please create a feature branch."
    exit 1
fi

# Run the test script
echo "Running tests..."
python3 test_score.py
if [ $? -ne 0 ]; then
    echo "Tests failed! Fix the issues before committing."
    exit 1
fi

echo "Tests passed! Proceeding with commit."
exit 0
